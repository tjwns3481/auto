<!DOCTYPE html>
<html>
  <head>
    <title>Image Upload</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  </head>
  <body>
    <h1>HTML 생성기</h1>

    <span style="display: block; margin-bottom: 5vw; color: red; text-align: center"
      >폴더를 먼저 생성해주시고 이미지를 선택해주세요.</span
    >
    <button
      style="
        font-family: 'paybooc-Light', sans-serif;
        display: inline-block;
        margin-bottom: 4vw;
        background-color: aliceblue;
        padding: 2vw;
        border-radius: 2vw;
        color: #1e6b7b;
        border: 1px solid;
      "
    >
      <a href="/mkdir" style="text-decoration: none">폴더 생성하기</a>
    </button>
    <form action="/upload" method="post" enctype="multipart/form-data" style="margin-bottom: 10vw">
      <h3>상단이미지</h3>
      <input class="pick1" type="file" name="image" style="display: inline-block; margin-bottom: 4vw" />

      <div style="display: block; margin-bottom: 3vw">
        <h3>링크</h3>
        <select id="link-type" name="linkType">
          <option value="BrowserOpen">BrowserOpen</option>
          <option value="xBrowser">xBrowser</option>
          <option value="shopping">ShoppingNews</option>
          <option value="event">Event</option>
          <option value="coupon">Coupon</option>
          <option value="saeun">Saeun</option>
        </select>
        <input id="link-url" type="text" placeholder="url을 적어주세요" name="linkUrl" />
        <input class="pick2" type="file" name="image" style="display: block; margin-bottom: 5vw" />
      </div>

      <h3>하단이미지</h3>
      <input class="pick3" type="file" name="image" style="display: block; margin-bottom: 5vw" />
      <input
        class="upload"
        type="submit"
        value="업로드"
        style="
          font-family: 'paybooc-Light', sans-serif;
          display: inline-block;
          margin-bottom: 4vw;
          background-color: aliceblue;
          padding: 2vw;
          border-radius: 2vw;
          color: #1e6b7b;
          border: 1px solid;
        "
      />
    </form>

    <h3>미리보기</h3>
    <ul class="preview">
      <li>
        <img src="" alt="" />
      </li>
      <li>
        <img src="" alt="" />
      </li>
      <li>
        <img src="" alt="" />
      </li>
    </ul>
    <script>
      $(document).ready(function () {
        $(".pick1").change(function () {
          readURL(this, 0);
        });
        $(".pick2").change(function () {
          readURL(this, 1);
        });
        $(".pick3").change(function () {
          readURL(this, 2);
        });

        function readURL(input, idx) {
          if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
              $(`.preview > li:eq(${idx}) img`).attr("src", e.target.result);
            };

            reader.readAsDataURL(input.files[0]);
          }
        }
      });
    </script>
  </body>
  <style>
    html,
    body,
    div,
    span,
    applet,
    object,
    iframe,
    h1,
    h2,
    h3,
    h4,
    h5,
    h6,
    p,
    blockquote,
    pre,
    a,
    abbr,
    acronym,
    address,
    big,
    cite,
    code,
    del,
    dfn,
    em,
    img,
    ins,
    kbd,
    q,
    s,
    samp,
    small,
    strike,
    strong,
    sub,
    sup,
    tt,
    var,
    b,
    u,
    i,
    center,
    dl,
    dt,
    dd,
    ol,
    ul,
    li,
    fieldset,
    form,
    label,
    legend,
    table,
    caption,
    tbody,
    tfoot,
    thead,
    tr,
    th,
    td,
    article,
    aside,
    canvas,
    details,
    embed,
    figure,
    figcaption,
    footer,
    header,
    hgroup,
    menu,
    nav,
    output,
    ruby,
    section,
    summary,
    time,
    mark,
    audio,
    video {
      margin: 0;
      padding: 0;
      border: 0;
      font-size: 100%;
      font: inherit;
      vertical-align: baseline;
    }
    /* HTML5 display-role reset for older browsers */
    article,
    aside,
    details,
    figcaption,
    figure,
    footer,
    header,
    hgroup,
    menu,
    nav,
    section {
      display: block;
    }
    body {
      line-height: 1;
    }
    ol,
    ul {
      list-style: none;
    }
    blockquote,
    q {
      quotes: none;
    }
    blockquote:before,
    blockquote:after,
    q:before,
    q:after {
      content: "";
      content: none;
    }
    table {
      border-collapse: collapse;
      border-spacing: 0;
    }
    body {
      padding: 5vw;
    }
    h3 {
      font-size: 1.5rem;
      margin-bottom: 2vw;
    }
    ul {
      width: 70vw;
      margin: 0 auto;
      list-style: none;
      font-size: 0;
    }
    li {
      font-size: 0;
    }
    h1 {
      font-size: 2rem;
      text-align: center;
      margin-bottom: 10vw;
    }
    img {
      width: 100%;
    }
  </style>
</html>
